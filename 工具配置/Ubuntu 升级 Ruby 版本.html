<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/typo.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/reset_typo.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="shortcut icon" href="/static/images/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon">
        <title>Ubuntu 升级 Ruby 版本 - Wiki | Small Cpp</title>
        <meta name="keywords" content=""/>
        <meta name="description" content=""/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container" class="typo">
            
    <div id="header">
        <div id="post-nav">
            
            <a href="/">Home</a> » <a href="/#工具配置">工具配置</a> » Ubuntu 升级 Ruby 版本
            
        </div>
    </div>
    <div class="clearfix"></div>
    <div id="content">
        <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#rvm-ruby">使用 rvm 管理 ruby 版本</a><ul>
<li><a href="#_1">准备工作</a></li>
<li><a href="#rvm">安装 rvm</a></li>
<li><a href="#rvm_1">使用 RVM</a></li>
</ul>
</li>
<li><a href="#_2">从源码安装</a></li>
<li><a href="#travis-client">使用 Travis Client 推荐的方法</a></li>
</ul>
</div>
<h1 id="rvm-ruby">使用 rvm 管理 ruby 版本</h1>
<p>这是推荐的方式, 但是由于 GFW 的原因, rvm 不一定安装成功, 如果不成功则参考下面的从源码安装.</p>
<p>Reference: <a href="http://blog.csdn.net/abbuggy/article/details/8170899">在ubuntu中安装及使用rvm管理ruby版本</a></p>
<h2 id="_1">准备工作</h2>
<p>后面需要使用 <strong>curl</strong>, 用 <strong>dpkg -s curl</strong> 命令检查一下系统中有没有安装</p>
<div class="hlcode"><pre><span class="n">abbuggy</span><span class="err">@</span><span class="n">abbuggy</span><span class="o">-</span><span class="n">ubuntu</span><span class="o">:~</span><span class="err">$</span> <span class="n">dpkg</span> <span class="o">-</span><span class="n">s</span> <span class="n">curl</span>
<span class="nl">Package:</span> <span class="n">curl</span>
<span class="nl">Status:</span> <span class="n">install</span> <span class="n">ok</span> <span class="n">installed</span>
<span class="nl">Priority:</span> <span class="n">optional</span>
<span class="nl">Section:</span> <span class="n">web</span>
<span class="n">Installed</span><span class="o">-</span><span class="n">Size</span><span class="o">:</span> <span class="mi">338</span>
<span class="nl">Maintainer:</span> <span class="n">Ubuntu</span> <span class="n">Developers</span> <span class="o">&lt;</span><span class="n">ubuntu</span><span class="o">-</span><span class="n">devel</span><span class="o">-</span><span class="n">discuss</span><span class="err">@</span><span class="n">lists</span><span class="p">.</span><span class="n">ubuntu</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span>
<span class="nl">Architecture:</span> <span class="n">i386</span>
<span class="nl">Version:</span> <span class="mf">7.22.0</span><span class="o">-</span><span class="mi">3u</span><span class="n">buntu4</span>
<span class="nl">Replaces:</span> <span class="n">curl</span><span class="o">-</span><span class="n">ssl</span>
<span class="nl">Provides:</span> <span class="n">curl</span><span class="o">-</span><span class="n">ssl</span>
<span class="nl">Depends:</span> <span class="n">libc6</span> <span class="p">(</span><span class="o">&gt;=</span> <span class="mf">2.7</span><span class="p">),</span> <span class="n">libcurl3</span> <span class="p">(</span><span class="o">&gt;=</span> <span class="mf">7.16.2</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">zlib1g</span> <span class="p">(</span><span class="o">&gt;=</span> <span class="mi">1</span><span class="o">:</span><span class="mf">1.1.4</span><span class="p">)</span>
<span class="nl">Description:</span> <span class="n">Get</span> <span class="n">a</span> <span class="n">file</span> <span class="n">from</span> <span class="n">an</span> <span class="n">HTTP</span><span class="p">,</span> <span class="n">HTTPS</span> <span class="n">or</span> <span class="n">FTP</span> <span class="n">server</span>
 <span class="n">curl</span> <span class="n">is</span> <span class="n">a</span> <span class="n">client</span> <span class="n">to</span> <span class="n">get</span> <span class="n">files</span> <span class="n">from</span> <span class="n">servers</span> <span class="n">using</span> <span class="n">any</span> <span class="n">of</span> <span class="n">the</span> <span class="n">supported</span>
 <span class="n">protocols</span><span class="p">.</span> <span class="n">The</span> <span class="n">command</span> <span class="n">is</span> <span class="n">designed</span> <span class="n">to</span> <span class="n">work</span> <span class="n">without</span> <span class="n">user</span> <span class="n">interaction</span>
 <span class="n">or</span> <span class="n">any</span> <span class="n">kind</span> <span class="n">of</span> <span class="n">interactivity</span><span class="p">.</span>
 <span class="p">.</span>
 <span class="n">curl</span> <span class="n">offers</span> <span class="n">a</span> <span class="n">busload</span> <span class="n">of</span> <span class="n">useful</span> <span class="n">tricks</span> <span class="n">like</span> <span class="n">proxy</span> <span class="n">support</span><span class="p">,</span> <span class="n">user</span>
 <span class="n">authentication</span><span class="p">,</span> <span class="n">FTP</span> <span class="n">upload</span><span class="p">,</span> <span class="n">HTTP</span> <span class="n">post</span><span class="p">,</span> <span class="n">file</span> <span class="n">transfer</span> <span class="n">resume</span> <span class="n">and</span> <span class="n">more</span><span class="p">.</span>
<span class="nl">Homepage:</span> <span class="n">http</span><span class="o">:</span><span class="c1">//curl.haxx.se</span>
<span class="n">Original</span><span class="o">-</span><span class="n">Maintainer</span><span class="o">:</span> <span class="n">Ramakrishnan</span> <span class="n">Muthukrishnan</span> <span class="o">&lt;</span><span class="n">rkrishnan</span><span class="err">@</span><span class="n">debian</span><span class="p">.</span><span class="n">org</span><span class="o">&gt;</span>
</pre></div>


<p><br>
上面的说明我是已经安装过了的, 如果没有安装应该是类似如下的回显:</p>
<div class="hlcode"><pre><span class="n">abbuggy</span><span class="err">@</span><span class="n">abbuggy</span><span class="o">-</span><span class="n">ubuntu</span><span class="o">:~</span><span class="err">$</span> <span class="n">dpkg</span> <span class="o">-</span><span class="n">s</span> <span class="n">curl</span>
<span class="err">系统没有安装软件包</span> <span class="n">curl</span><span class="p">,</span> <span class="err">因而没有相关的信息</span><span class="p">.</span>
<span class="err">使用</span> <span class="n">dpkg</span> <span class="o">--</span><span class="n">info</span> <span class="p">(</span><span class="o">=</span> <span class="n">dpkg</span><span class="o">-</span><span class="n">deb</span> <span class="o">--</span><span class="n">info</span><span class="p">)</span> <span class="err">来检测打包好的文件</span><span class="p">,</span>
<span class="err">还可以通过</span> <span class="n">dpkg</span> <span class="o">--</span><span class="n">contents</span> <span class="p">(</span><span class="o">=</span> <span class="n">dpkg</span><span class="o">-</span><span class="n">deb</span> <span class="o">--</span><span class="n">contents</span><span class="p">)</span> <span class="err">来列出它们的内容</span><span class="p">.</span>
</pre></div>


<p><br>
那么安装就行了 <code>sudo apt-get install curl</code></p>
<h2 id="rvm">安装 rvm</h2>
<p>用 rvm 官方推荐的方式安装 <code>curl -L get.rvm.io | bash -s stable</code></p>
<p>回显提示我们, RVM 被安装在 <code>$HOME/.vrm</code> 中, 并且需要在终端中加载脚本 <code>$HOME/.rvm/scripts/rvm</code></p>
<div class="hlcode"><pre><span class="s-Atom">abbuggy@abbuggy</span><span class="o">-</span><span class="nn">ubuntu</span><span class="p">:</span><span class="s-Atom">~</span><span class="err">$</span> <span class="s-Atom">curl</span> <span class="o">-</span><span class="nv">L</span> <span class="s-Atom">get</span><span class="p">.</span><span class="s-Atom">rvm</span><span class="p">.</span><span class="s-Atom">io</span> <span class="p">|</span> <span class="s-Atom">bash</span> <span class="o">-</span><span class="s-Atom">s</span> <span class="s-Atom">stable</span>
  <span class="c1">% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span>
                                 <span class="nv">Dload</span>  <span class="nv">Upload</span>   <span class="nv">Total</span>   <span class="nv">Spent</span>    <span class="nv">Left</span>  <span class="nv">Speed</span>
<span class="m">100</span>   <span class="m">185</span>  <span class="m">100</span>   <span class="m">185</span>    <span class="m">0</span>     <span class="m">0</span>    <span class="m">144</span>      <span class="m">0</span>  <span class="m">0</span><span class="s-Atom">:</span><span class="m">00</span><span class="s-Atom">:</span><span class="m">01</span>  <span class="m">0</span><span class="s-Atom">:</span><span class="m">00</span><span class="s-Atom">:</span><span class="m">01</span> <span class="s-Atom">--:--:--</span>   <span class="m">906</span>
<span class="m">100</span> <span class="m">10235</span>  <span class="m">100</span> <span class="m">10235</span>    <span class="m">0</span>     <span class="m">0</span>   <span class="m">3929</span>      <span class="m">0</span>  <span class="m">0</span><span class="s-Atom">:</span><span class="m">00</span><span class="s-Atom">:</span><span class="m">02</span>  <span class="m">0</span><span class="s-Atom">:</span><span class="m">00</span><span class="s-Atom">:</span><span class="m">02</span> <span class="s-Atom">--:--:--</span> <span class="m">10888</span>
<span class="nv">Downloading</span> <span class="nv">RVM</span> <span class="s-Atom">from</span> <span class="s-Atom">wayneeseguin</span> <span class="s-Atom">branch</span> <span class="s-Atom">stable</span>
  <span class="c1">% Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span>
                                 <span class="nv">Dload</span>  <span class="nv">Upload</span>   <span class="nv">Total</span>   <span class="nv">Spent</span>    <span class="nv">Left</span>  <span class="nv">Speed</span>
<span class="m">100</span>   <span class="m">131</span>  <span class="m">100</span>   <span class="m">131</span>    <span class="m">0</span>     <span class="m">0</span>     <span class="m">62</span>      <span class="m">0</span>  <span class="m">0</span><span class="s-Atom">:</span><span class="m">00</span><span class="s-Atom">:</span><span class="m">02</span>  <span class="m">0</span><span class="s-Atom">:</span><span class="m">00</span><span class="s-Atom">:</span><span class="m">02</span> <span class="s-Atom">--:--:--</span>   <span class="m">143</span>
<span class="m">100</span> <span class="m">1124</span><span class="s-Atom">k</span>  <span class="m">100</span> <span class="m">1124</span><span class="s-Atom">k</span>    <span class="m">0</span>     <span class="m">0</span>   <span class="m">127</span><span class="s-Atom">k</span>      <span class="m">0</span>  <span class="m">0</span><span class="s-Atom">:</span><span class="m">00</span><span class="s-Atom">:</span><span class="m">08</span>  <span class="m">0</span><span class="s-Atom">:</span><span class="m">00</span><span class="s-Atom">:</span><span class="m">08</span> <span class="s-Atom">--:--:--</span>  <span class="m">269</span><span class="s-Atom">k</span>

<span class="nv">Installing</span> <span class="nv">RVM</span> <span class="s-Atom">to</span> <span class="o">/</span><span class="s-Atom">home</span><span class="o">/</span><span class="s-Atom">abbuggy/.rvm</span><span class="o">/</span>
    <span class="nv">RVM</span> <span class="nv">PATH</span> <span class="s-Atom">line</span> <span class="s-Atom">found</span> <span class="s-Atom">in</span> <span class="o">/</span><span class="s-Atom">home</span><span class="o">/</span><span class="s-Atom">abbuggy/.bashrc</span> <span class="o">/</span><span class="s-Atom">home</span><span class="o">/</span><span class="s-Atom">abbuggy/.zshrc</span><span class="p">.</span>
    <span class="nv">RVM</span> <span class="s-Atom">sourcing</span> <span class="s-Atom">line</span> <span class="s-Atom">found</span> <span class="s-Atom">in</span> <span class="o">/</span><span class="s-Atom">home</span><span class="o">/</span><span class="s-Atom">abbuggy/.bash_profile</span> <span class="o">/</span><span class="s-Atom">home</span><span class="o">/</span><span class="s-Atom">abbuggy/.zprofile</span><span class="p">.</span>

<span class="s-Atom">#</span> <span class="nv">RVM</span><span class="s-Atom">:</span>  <span class="nv">Shell</span> <span class="s-Atom">scripts</span> <span class="s-Atom">enabling</span> <span class="s-Atom">management</span> <span class="s-Atom">of</span> <span class="s-Atom">multiple</span> <span class="s-Atom">ruby</span> <span class="s-Atom">environments</span><span class="p">.</span>
<span class="s-Atom">#</span> <span class="nv">RTFM</span><span class="s-Atom">:</span> <span class="nn">https</span><span class="p">:</span><span class="o">//</span><span class="s-Atom">rvm</span><span class="p">.</span><span class="s-Atom">io</span><span class="o">/</span>
<span class="s-Atom">#</span> <span class="nv">HELP</span><span class="s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s-Atom">webchat</span><span class="p">.</span><span class="s-Atom">freenode</span><span class="p">.</span><span class="s-Atom">net/?channels</span><span class="o">=</span><span class="nf">rvm</span> <span class="p">(</span><span class="s-Atom">#rvm</span> <span class="s-Atom">on</span> <span class="s-Atom">irc</span><span class="p">.</span><span class="s-Atom">freenode</span><span class="p">.</span><span class="s-Atom">net</span><span class="p">)</span>
<span class="s-Atom">#</span> <span class="nv">Cheatsheet</span><span class="s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s-Atom">cheat</span><span class="p">.</span><span class="s-Atom">errtheblog</span><span class="p">.</span><span class="s-Atom">com</span><span class="o">/</span><span class="s-Atom">s</span><span class="o">/</span><span class="s-Atom">rvm</span><span class="o">/</span>
<span class="s-Atom">#</span> <span class="nv">Screencast</span><span class="s-Atom">:</span> <span class="nn">http</span><span class="p">:</span><span class="o">//</span><span class="s-Atom">screencasts</span><span class="p">.</span><span class="s-Atom">org</span><span class="o">/</span><span class="s-Atom">episodes</span><span class="o">/</span><span class="s-Atom">how</span><span class="o">-</span><span class="s-Atom">to</span><span class="o">-</span><span class="s-Atom">use</span><span class="o">-</span><span class="s-Atom">rvm</span>

<span class="s-Atom">#</span> <span class="nv">In</span> <span class="s-Atom">case</span> <span class="s-Atom">of</span> <span class="s-Atom">any</span> <span class="s-Atom">issues</span> <span class="s-Atom">read</span> <span class="s-Atom">output</span> <span class="s-Atom">of</span> <span class="s-Atom">&#39;rvm requirements&#39;</span> <span class="s-Atom">and</span><span class="o">/</span><span class="s-Atom">or</span> <span class="s-Atom">&#39;rvm notes&#39;</span>

<span class="nv">Installation</span> <span class="s-Atom">of</span> <span class="nv">RVM</span> <span class="s-Atom">in</span> <span class="o">/</span><span class="s-Atom">home</span><span class="o">/</span><span class="s-Atom">abbuggy/.rvm</span><span class="o">/</span> <span class="o">is</span> <span class="s-Atom">almost</span> <span class="nn">complete</span><span class="p">:</span>

  <span class="o">*</span> <span class="nv">To</span> <span class="s-Atom">start</span> <span class="s-Atom">using</span> <span class="nv">RVM</span> <span class="s-Atom">you</span> <span class="s-Atom">need</span> <span class="s-Atom">to</span> <span class="s-Atom">run</span> <span class="err">`</span><span class="s-Atom">source</span> <span class="o">/</span><span class="s-Atom">home</span><span class="o">/</span><span class="s-Atom">abbuggy/.rvm</span><span class="o">/</span><span class="s-Atom">scripts</span><span class="o">/</span><span class="s-Atom">rvm</span><span class="err">`</span>
    <span class="s-Atom">in</span> <span class="s-Atom">all</span> <span class="s-Atom">your</span> <span class="s-Atom">open</span> <span class="s-Atom">shell</span> <span class="s-Atom">windows</span><span class="p">,</span> <span class="s-Atom">in</span> <span class="s-Atom">rare</span> <span class="s-Atom">cases</span> <span class="s-Atom">you</span> <span class="s-Atom">need</span> <span class="s-Atom">to</span> <span class="s-Atom">reopen</span> <span class="s-Atom">all</span> <span class="s-Atom">shell</span> <span class="s-Atom">windows</span><span class="p">.</span>

<span class="s-Atom">#</span> <span class="s-Atom">abbuggy</span><span class="p">,</span>
<span class="s-Atom">#</span>
<span class="s-Atom">#</span>   <span class="nv">Thank</span> <span class="s-Atom">you</span> <span class="s-Atom">for</span> <span class="s-Atom">using</span> <span class="nv">RVM</span><span class="p">!</span>
<span class="s-Atom">#</span>   <span class="nv">I</span> <span class="s-Atom">sincerely</span> <span class="s-Atom">hope</span> <span class="s-Atom">that</span> <span class="nv">RVM</span> <span class="s-Atom">helps</span> <span class="s-Atom">to</span> <span class="s-Atom">make</span> <span class="s-Atom">your</span> <span class="s-Atom">life</span> <span class="s-Atom">easier</span> <span class="s-Atom">and</span> <span class="s-Atom">more</span> <span class="s-Atom">enjoyable</span><span class="p">!!!</span>
<span class="s-Atom">#</span>
<span class="s-Atom">#</span> <span class="s-Atom">~</span><span class="nv">Wayne</span>
</pre></div>


<p><br>
应该请把这句话加在 <code>$HOME/.bash_profile</code> 文件中, 以便在开启一个终端会话时候加载 RVM:</p>
<div class="hlcode"><pre><span class="p">[[</span> <span class="o">-</span><span class="n">s</span> <span class="s">&quot;$HOME/.rvm/scripts/rvm&quot;</span> <span class="p">]]</span> <span class="o">&amp;&amp;</span> <span class="p">.</span> <span class="s">&quot;$HOME/.rvm/scripts/rvm&quot;</span> <span class="err">#</span> <span class="n">This</span> <span class="n">loads</span> <span class="n">RVM</span> <span class="n">into</span> <span class="n">a</span> <span class="n">shell</span> <span class="n">session</span><span class="p">.</span>
</pre></div>


<p><br>
如果对 shell 不熟悉, 这里简单解释一下这是干什么用的:<br>
<code>[[condition]]</code> 两层的方括号中间括着条件返回条件是不是真, -s 是判断给定的文件是否存在的命令.<br>
这样一来, 不就是在 <code>[[ -s "$HOME/.vrm/scripts/vrm"]]</code> 判断刚才安装的 RVM 是否存在吗?<br>
接下来的&amp;&amp;符号是<strong>"短路的与"</strong>, 当前面的条件是真的时候, 执行后面的语句, 返回这两个语句是不是全是真.<br>
在这里, 利用了"短路"特性, 也就是说当 RVM 已经安装的话, 执行后面的 <code>$HOME/.rvm/scripts/rvm</code> 命令.<br>
这条命令和 <code>source "$HOME/.rvm/scripts/rvm"</code> 是一个意思: 加载 rvm 的启动脚本.</p>
<p>现在, 通过修改 <code>.bash_profile</code> 增加的内容需要重新打开终端窗口时加载, 或者另一个是在当前窗口执行一遍 <code>$HOME/.rvm/scripts/rvm</code>.</p>
<h2 id="rvm_1">使用 RVM</h2>
<p>察看 RVM 的版本</p>
<div class="hlcode"><pre><span class="n">rvm</span> <span class="o">-</span><span class="n">v</span>

<span class="n">rvm</span> <span class="mf">1.16.20</span> <span class="p">(</span><span class="n">stable</span><span class="p">)</span> <span class="n">by</span> <span class="n">Wayne</span> <span class="n">E</span><span class="p">.</span> <span class="n">Seguin</span> <span class="o">&lt;</span><span class="n">wayneeseguin</span><span class="err">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">Michal</span> <span class="n">Papis</span> <span class="o">&lt;</span><span class="n">mpapis</span><span class="err">@</span><span class="n">gmail</span><span class="p">.</span><span class="n">com</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">https</span><span class="o">:</span><span class="c1">//rvm.io/]</span>
</pre></div>


<p><br>
然后通过 <code>rvm requirements</code> 命令, 可以察看安装各版本时候的前提条件, 其中现在这句是需要关注的, 这是安装依赖的第三方包, 没有这个安装不成功岂不是很悲剧?</p>
<div class="hlcode"><pre><span class="n">Additional</span> <span class="n">Dependencies</span><span class="o">:</span>
<span class="cp"># For Ruby / Ruby HEAD (MRI, Rubinius, &amp; REE), install the following:</span>
  <span class="nl">ruby:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span> <span class="n">openssl</span> <span class="n">libreadline6</span> <span class="n">libreadline6</span><span class="o">-</span><span class="n">dev</span> <span class="n">curl</span> <span class="n">git</span><span class="o">-</span><span class="n">core</span> <span class="n">zlib1g</span> <span class="n">zlib1g</span><span class="o">-</span><span class="n">dev</span> <span class="n">libssl</span><span class="o">-</span><span class="n">dev</span> <span class="n">libyaml</span><span class="o">-</span><span class="n">dev</span> <span class="n">libsqlite3</span><span class="o">-</span><span class="n">dev</span> <span class="n">sqlite3</span> <span class="n">libxml2</span><span class="o">-</span><span class="n">dev</span> <span class="n">libxslt</span><span class="o">-</span><span class="n">dev</span> <span class="n">autoconf</span> <span class="n">libc6</span><span class="o">-</span><span class="n">dev</span> <span class="n">ncurses</span><span class="o">-</span><span class="n">dev</span> <span class="n">automake</span> <span class="n">libtool</span> <span class="n">bison</span> <span class="n">subversion</span> <span class="n">pkg</span><span class="o">-</span><span class="n">config</span>
</pre></div>


<p><br>
这样一来, 安装 ruby 的准备工作就完成了, 察看当前 RVM中 已经安装的 ruby 版本, 现在应该还没有.</p>
<div class="hlcode"><pre><span class="n">rvm</span> <span class="n">list</span>

<span class="n">rvm</span> <span class="n">rubies</span>

<span class="cp"># No rvm rubies installed yet. Try &#39;rvm help install&#39;.</span>
</pre></div>


<p><br>
察看 RVM 可供安装的 ruby 版本:</p>
<div class="hlcode"><pre><span class="n">rvm</span> <span class="n">list</span> <span class="n">known</span>
<span class="cp"># MRI Rubies</span>

<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.8.6</span><span class="p">[</span><span class="o">-</span><span class="n">p420</span><span class="p">]</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.8.7</span><span class="o">-</span><span class="n">p370</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.8.7</span><span class="p">[</span><span class="o">-</span><span class="n">p371</span><span class="p">]</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.1</span><span class="p">[</span><span class="o">-</span><span class="n">p431</span><span class="p">]</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.2</span><span class="o">-</span><span class="n">p180</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.2</span><span class="o">-</span><span class="n">p290</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.2</span><span class="o">-</span><span class="n">p318</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.2</span><span class="p">[</span><span class="o">-</span><span class="n">p320</span><span class="p">]</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.2</span><span class="o">-</span><span class="n">head</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.3</span><span class="o">-</span><span class="n">preview1</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.3</span><span class="o">-</span><span class="n">rc1</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.3</span><span class="o">-</span><span class="n">p0</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.3</span><span class="o">-</span><span class="n">p125</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.3</span><span class="o">-</span><span class="n">p194</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.3</span><span class="o">-</span><span class="n">p286</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.3</span><span class="o">-</span><span class="p">[</span><span class="n">p327</span><span class="p">]</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">1.9.3</span><span class="o">-</span><span class="n">head</span>
<span class="p">[</span><span class="n">ruby</span><span class="o">-</span><span class="p">]</span><span class="mf">2.0.0</span><span class="o">-</span><span class="n">preview1</span>
</pre></div>


<p><br>
例如安装 ruby 1.9.3-head, 在不发生歧义的情况下方括号内的东西可以不必敲.</p>
<div class="hlcode"><pre><span class="n">rvm</span> <span class="n">install</span> <span class="mf">1.9.3</span><span class="o">-</span><span class="n">head</span>
</pre></div>


<p><br>
之后等呀等呀自动安装了 1.8.7 和 1.9.3</p>
<div class="hlcode"><pre><span class="nx">rvm</span> <span class="nb">list</span>

<span class="nx">rvm</span> <span class="nx">rubies</span>

   <span class="nx">ruby</span><span class="o">-</span><span class="mf">1.8.7</span><span class="na">-p371</span> <span class="err">[</span> <span class="nx">i686</span> <span class="cp">]</span>
   ruby-1.9.3-head <span class="cp">[</span> <span class="nx">i686</span> <span class="cp">]</span>

# Default ruby not set. Try &#39;rvm alias create default <span class="nt">&lt;ruby&gt;</span>&#39;.
</pre></div>


<p><br>
选择 1.9.3 作为当前的使用版本, 并且设置为缺省</p>
<div class="hlcode"><pre><span class="n">rvm</span> <span class="n">use</span> <span class="n">ruby</span><span class="o">-</span><span class="mf">1.9.3</span><span class="o">-</span><span class="n">head</span> <span class="o">--</span><span class="k">default</span>
<span class="n">Using</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abbuggy</span><span class="o">/</span><span class="p">.</span><span class="n">rvm</span><span class="o">/</span><span class="n">gems</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="mf">1.9.3</span><span class="o">-</span><span class="n">head</span>
</pre></div>


<p><br>
设置好之后察看ruby版本</p>
<div class="hlcode"><pre><span class="n">ruby</span> <span class="o">-</span><span class="n">v</span>
<span class="n">ruby</span> <span class="mf">1.9.3</span><span class="n">p327</span> <span class="p">(</span><span class="mi">2012</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span> <span class="p">[</span><span class="n">i686</span><span class="o">-</span><span class="n">linux</span><span class="p">]</span>
</pre></div>


<p><br>
察看ruby的路径, 就是 RVM 帮我们安装的</p>
<div class="hlcode"><pre><span class="n">which</span> <span class="n">ruby</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abbuggy</span><span class="o">/</span><span class="p">.</span><span class="n">rvm</span><span class="o">/</span><span class="n">rubies</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="mf">1.9.3</span><span class="o">-</span><span class="n">head</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">ruby</span>
</pre></div>


<p><br></p>
<h1 id="_2">从源码安装</h1>
<p>如果你不能安装 RVM, 那就尝试从源码安装吧.</p>
<p>Reference: <a href="http://blog.csdn.net/abbuggy/article/details/8170899">Setup Ruby On Rails on Ubuntu 14.04 Trusty Tahr</a></p>
<p>为避免和当前 Ruby 冲突, 先卸载当前版本:</p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">remove</span> <span class="n">ruby1</span><span class="mf">.8</span>

<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">autoremove</span>
</pre></div>


<p><br>
然后安装新版本的 Ruby:</p>
<div class="hlcode"><pre><span class="n">wget</span> <span class="n">http</span><span class="o">:</span><span class="c1">//ftp.ruby-lang.org/pub/ruby/2.3/ruby-2.3.1.tar.gz</span>

<span class="n">tar</span> <span class="o">-</span><span class="n">xzvf</span> <span class="n">ruby</span><span class="o">-</span><span class="mf">2.3.1</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>

<span class="n">cd</span> <span class="n">ruby</span><span class="o">-</span><span class="mf">2.3.1</span><span class="o">/</span>

<span class="p">.</span><span class="o">/</span><span class="n">configure</span>

<span class="n">make</span>

<span class="n">sudo</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>


<p><br>
安装完查看下版本: <code>ruby -v</code>.</p>
<h1 id="travis-client">使用 Travis Client 推荐的方法</h1>
<p>由于我使用第二种方法成功安装了, 因为这种方法我没测试过, 先记录下再说...</p>
<p>Reference: <a href="https://github.com/travis-ci/travis.rb#other-unix-systems">Travis Client Github</a></p>
<p>先卸载当前版本:</p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">remove</span> <span class="n">ruby1</span><span class="mf">.8</span>

<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">autoremove</span>
</pre></div>


<p><br>
然后安装新版本:</p>
<div class="hlcode"><pre><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python</span><span class="o">-</span><span class="n">software</span><span class="o">-</span><span class="n">properties</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">add</span><span class="o">-</span><span class="n">repository</span> <span class="n">ppa</span><span class="o">:</span><span class="n">brightbox</span><span class="o">/</span><span class="n">ruby</span><span class="o">-</span><span class="n">ng</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">ruby2</span><span class="mf">.1</span> <span class="n">ruby</span><span class="o">-</span><span class="k">switch</span> <span class="n">ruby2</span><span class="mf">.1</span><span class="o">-</span><span class="n">dev</span>
<span class="n">sudo</span> <span class="n">ruby</span><span class="o">-</span><span class="k">switch</span> <span class="o">--</span><span class="n">set</span> <span class="n">ruby2</span><span class="mf">.1</span>
</pre></div>
    </div>

    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="Ubuntu 升级 Ruby 版本" data-title="Ubuntu 升级 Ruby 版本" data-url="http://wiki.smallcpp.com/工具配置/Ubuntu 升级 Ruby 版本.html"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:"smallwiki"};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
    <!-- 多说公共JS代码 end -->


        </div>
        <div id="footer">
              <p>
                Copyright © 2012-2016 <a href="http://www.samllcpp.com/" target="_blank">Martin</a> Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
              </p>
        </div>
    </body>
</html>