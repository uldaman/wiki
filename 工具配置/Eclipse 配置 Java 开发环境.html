<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/typo.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/reset_typo.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="shortcut icon" href="/static/images/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon">
        <title>Eclipse 配置 Java 开发环境 - Wiki | Small Cpp</title>
        <meta name="keywords" content=""/>
        <meta name="description" content=""/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container" class="typo">
            
    <div id="header">
        <div id="post-nav">
            
            <a href="/">Home</a> » <a href="/#工具配置">工具配置</a> » Eclipse 配置 Java 开发环境
            
        </div>
    </div>
    <div class="clearfix"></div>
    <div id="content">
        <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#java">Java 安装</a></li>
<li><a href="#_1">配置环境变量</a></li>
<li><a href="#eclipse">Eclipse 安装</a></li>
<li><a href="#eclipse_1">Eclipse 配置</a><ul>
<li><a href="#_2">设置字体</a></li>
<li><a href="#_3">自动提示</a></li>
<li><a href="#_4">设置编码</a></li>
<li><a href="#_5">导航器</a></li>
<li><a href="#_6">自动构建</a></li>
<li><a href="#monokai">设置 Monokai 主题</a><ul>
<li><a href="#_7">配置黑色框架</a></li>
<li><a href="#_8">配置代码编辑区的样式</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#eclipse_2">Eclipse 常用功能</a><ul>
<li><a href="#_9">抽取函数</a></li>
<li><a href="#hashcode-equasl">重写 hashCode() 和 equasl()</a></li>
<li><a href="#gettersetter">自动添加 getter/setter</a></li>
</ul>
</li>
<li><a href="#eclipse_3">Eclipse 常用快捷键</a></li>
</ul>
</div>
<h1 id="java">Java 安装</h1>
<p>访问 oracle 官网 : <a href="http://www.oracle.com/index.html">http://www.oracle.com/index.html</a></p>
<p><img alt="" src="http://i65.tinypic.com/11ryjc5.jpg" /></p>
<p><img alt="" src="http://i64.tinypic.com/504f34.jpg" /></p>
<p><img alt="" src="http://i64.tinypic.com/2vcth8j.jpg" /></p>
<p>下载下来直接安装即可, 安装的时候, 不要勾选 <strong>公共 JRE</strong>, 因为 JDK 中已包含一个专用的 JRE.<br><strong>注意</strong>: 路径中不要有中文或特殊符号、空格等.</p>
<p><img alt="" src="http://i65.tinypic.com/14v1xxi.jpg" /></p>
<p>安装好 JDK 后, 在指定的安装目录里有很多的文件和文件夹, 其中 <strong>bin</strong> 目录和 <strong>lib</strong> 目录需要额外注意下, bin 文件夹里保存的是 java 的可执行文件, 常用的是 <code>java.exe</code> 和 <code>javac.exe</code> (具体用处后面再说), lib 里保存的是 java 的类库, 和 C++ 开发中的 lib 文件差不多的意思.</p>
<p>安装完后, 测试下是否安装成功.</p>
<p>呼出 CMD 窗口, 执行 <code>javac</code>, 会发现报错.</p>
<p>这是因为, 在 DOS 中执行某程序, 如果执行的程序在<strong>当前目录</strong>下不存在, 系统会在 <strong>Path 这个环境变量指定的目录</strong>中查找, 如果还没找到, 就会错误提示 <code>Javac</code> 不是内部或外部命令, 也不是可运行的程序或批处理文件, 所以, 要想运行 <code>Javac</code>, 则必须 每次进入 JDK 安装路径 <code>\bin</code> 或修改 <code>Path</code> 环境变量, 为了一劳永逸,  我们来修改系统环境变量.</p>
<blockquote>
<p>不仅 DOS 下是这样, winodws 下执行程序, 程序会先在当前目录下查找依赖文件, 如果没找到, 就去 path 指定的目录下查找.</p>
</blockquote>
<h1 id="_1">配置环境变量</h1>
<ul>
<li><code>JAVA_HOME</code>: 配置 JDK 安装路径, 我这里是 <code>D:\jdk1.8.0_73</code></li>
<li><code>PATH</code>: 配置 JDK 命令文件路径 (bin目录), <code>%JAVA_HOME%\bin</code></li>
<li><code>CLASSPATH</code>: 下面单独说明</li>
</ul>
<p><code>CLASSPATH</code> 之所以要单独拿出来讲, 是因为以后出现的莫名其妙的怪问题 80% 以上都可能是由于 <code>CLASSPATH</code> 设置不对引起的, 所以要加倍小心才行.</p>
<p>设置 <code>CLASSPATH</code> 的目的, 在于告诉 Java 执行环境, 在哪些目录下可以找到所要执行的 Java 程序所需要的类或者包, 如果不设置 <code>CLASSPATH</code>, 那么默认就会到当前工作目录寻找.</p>
<p><code>CLASSPATH=.;%java_home%\lib\tools.jar;%java_home%\lib\dt.jar;%java_home%\lib\rt.jar;%JAVA_HOME%\lib</code></p>
<p><strong>注意</strong>下最前面的 <code>.;</code> (句点分号), 这个是告诉 JDK, 搜索 CLASS 时先查找当前目录, 然后是 <code>tools.jar</code>、<code>dt.jar</code> 和 <code>rt.jar</code> 三个 jar 包的路径, 最后是 <code>lib</code> 目录的路径.</p>
<blockquote>
<p>除了配置环境变量外, 执行 java 或者 javac 命令时, 可以跟上 <code>-classpath</code> 参数来直接指定类目录.</p>
</blockquote>
<p>此时, 重启 DOS 窗口, 再次执行 <code>javac</code> 命令, 就可以看到效果了.</p>
<h1 id="eclipse">Eclipse 安装</h1>
<p>在官网上下载最新版本的 <a href="http://www.eclipse.org/downloads/packages">Eclipse</a> (我现在一般用 Mars 版本, 2016 新出的 Neno 感觉不怎么好用), 安装好后是英文版的, 需要手动下载语言包, Eclipse 有一个语言包项目, 叫 Eclipse Babel Project, 如果需要语言包, 可以联机从这儿下载.</p>
<p><a href="http://www.eclipse.org/babel/">http://www.eclipse.org/babel/</a></p>
<p>找到下载页面后, 还要根据自己使用的 Eclipse 的版本来确定在哪下载.</p>
<p><img alt="" src="http://i59.tinypic.com/2ibyxyx.jpg" /></p>
<p><img alt="" src="http://wiki.smallcpp.com/static/images/Eclipse配置Java开发环境/eclipsev.png" /></p>
<p>可以看到我的是 Mars 版本.</p>
<p>点击第一张图上的 Mars, 跳转到语言包下载界面, 找到中文包, 下载, 解压, 覆盖即可.</p>
<p><img alt="" src="http://i57.tinypic.com/fn8sg0.jpg" /></p>
<p>再次打开 Eclipse 就是中文的了.</p>
<h1 id="eclipse_1">Eclipse 配置</h1>
<h2 id="_2">设置字体</h2>
<p>"窗口" -&gt; "首选项"</p>
<p>然后在左上角的过滤器中输入外观, 选择 "颜色和字体", 在右边选择 "基本" -&gt; "文本字体" -&gt; "编辑"</p>
<p><img alt="" src="http://i67.tinypic.com/op8do8.jpg" /></p>
<h2 id="_3">自动提示</h2>
<p>接下来, 设置下 eclipse 的自动提示<br>(你可以在任何时候 alt + / 来触发).
window –&gt; Preferences –&gt; Java –&gt; Editor –&gt; Content Assist:</p>
<p><img alt="" src="http://i60.tinypic.com/1zoj2no.jpg" /></p>
<p><strong>abcdefghijklmnopqrstuvwxyz.</strong>(注意后面的点)</p>
<p>这样改完后会有个问题, 就是当按下 "空格键"、"=" 时会上屏候选列表, 按习惯我们可改成 "Tab"、"Enter" 上屏.</p>
<p>首先, 最好下载一个 Eclipse RCP 版本 (该版本修改源代码比较方便，能自动导入源代码):</p>
<p><img alt="" src="http://i66.tinypic.com/2aeytts.jpg" /></p>
<p>打开 window -> show view, 选择 Plug-ins (如果没有的话, 在 show view 的 other 里找找), 再找到 <code>org.eclipse.jface.text</code>, 右键单击, 选择 import as -> Source Project, 导入完成后, 在 Eclipse 的 workspace 就可以看到这个 project 了.</p>
<p><img alt="" src="http://i67.tinypic.com/ok94jt.jpg" /></p>
<p><img alt="" src="http://i67.tinypic.com/2nv79e9.jpg" /></p>
<p><img alt="" src="http://i63.tinypic.com/53nvrd.jpg" /></p>
<p>打开 <code>org.eclipse.jface.text.contentassist.CompletionProposalPopup</code> 文件, 找到如下代码:</p>
<p><img alt="" src="http://i67.tinypic.com/20rae14.jpg" /></p>
<div class="hlcode"><pre><span class="k">if</span> <span class="o">(</span><span class="n">contains</span><span class="o">(</span><span class="n">triggers</span><span class="o">,</span> <span class="n">key</span><span class="o">))</span> <span class="o">{</span>
                        <span class="n">e</span><span class="o">.</span><span class="na">doit</span><span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                        <span class="n">hide</span><span class="o">();</span>
                        <span class="n">insertProposal</span><span class="o">(</span><span class="n">p</span><span class="o">,</span> <span class="n">key</span><span class="o">,</span> <span class="n">e</span><span class="o">.</span><span class="na">stateMask</span><span class="o">,</span> <span class="n">fContentAssistSubjectControlAdapter</span><span class="o">.</span><span class="na">getSelectedRange</span><span class="o">().</span><span class="na">x</span><span class="o">);</span>
                    <span class="o">}</span>
</pre></div>


<p><br>
修改之后的代码是:</p>
<div class="hlcode"><pre><span class="k">if</span> <span class="o">(</span><span class="n">key</span> <span class="o">!=</span> <span class="sc">&#39;=&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">key</span> <span class="o">!=</span> <span class="mh">0x20</span> <span class="o">&amp;&amp;</span> <span class="n">key</span> <span class="o">!=</span> <span class="sc">&#39;;&#39;</span> <span class="o">&amp;&amp;</span> <span class="n">contains</span><span class="o">(</span><span class="n">triggers</span><span class="o">,</span> <span class="n">key</span><span class="o">))</span> <span class="o">{</span>
                        <span class="n">e</span><span class="o">.</span><span class="na">doit</span><span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
                        <span class="n">hide</span><span class="o">();</span>
                        <span class="n">insertProposal</span><span class="o">(</span><span class="n">p</span><span class="o">,</span> <span class="n">key</span><span class="o">,</span> <span class="n">e</span><span class="o">.</span><span class="na">stateMask</span><span class="o">,</span> <span class="n">fContentAssistSubjectControlAdapter</span><span class="o">.</span><span class="na">getSelectedRange</span><span class="o">().</span><span class="na">x</span><span class="o">);</span>
                    <span class="o">}</span>
</pre></div>


<p><br>
如果想要使用 "tab" 键上屏找到如下代码:</p>
<div class="hlcode"><pre><span class="k">case</span> <span class="sc">&#39;\t&#39;</span><span class="o">:</span>
<span class="n">e</span><span class="o">.</span><span class="na">doit</span><span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
<span class="n">fProposalShell</span><span class="o">.</span><span class="na">setFocus</span><span class="o">();</span>
<span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
</pre></div>


<p><br>
修改之后的代码是:</p>
<div class="hlcode"><pre><span class="k">case</span> <span class="sc">&#39;\t&#39;</span><span class="o">:</span>
<span class="n">e</span><span class="o">.</span><span class="na">doit</span><span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
<span class="n">insertSelectedProposalWithMask</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">stateMask</span><span class="o">);</span>
<span class="k">break</span><span class="o">;</span>
</pre></div>


<p><br>
修改完成之后需要保存替换原来的 jar 文件:</p>
<p>项目右键 -> export</p>
<p><img alt="" src="http://i67.tinypic.com/2pydoci.jpg" /></p>
<p>选择导出方式如下图:</p>
<p><img alt="" src="http://i64.tinypic.com/2yynhid.jpg" /></p>
<p>点击 Next, 选择 Destination 选项卡, 选择 Directory, 选择一个要保存插件的目录, 然后 Finish.</p>
<p><img alt="" src="http://i63.tinypic.com/2vacpe1.jpg" /></p>
<p>然后就会在所选的目录下产生一个新的 plugins 目录, 里面有一个 jar 文件, 用它替换掉 Eclipse/plugins 里面的 (注意版本号可能会不一样), 最后重新启动一下 Eclipse.</p>
<h2 id="_4">设置编码</h2>
<p>统一设置为 <strong>utf-8</strong> 编码, Window -&gt; Preferences -&gt; General -&gt; Workspace -&gt; Text file encoding -&gt; Other -&gt; UTF-8.</p>
<p>统一设置为 <strong>utf-8</strong> 编码, Window -&gt; Preferences -&gt; General -&gt; Content Types, 在右面选择 "Text", 在 default encoding 输入 "UTF-8", 点 "update" 按钮更新.</p>
<h2 id="_5">导航器</h2>
<p>类似 "资源管理器", 它的视图和 "包资源管理器" 有点像, 因为有些文件或文件夹在 "包资源管理器" 看不到, 这时可以到 "导航器" 中查看.</p>
<p>"窗口" -&gt; "显示视图" -&gt; "其他", 在弹出窗中选择 "常规" -&gt; "导航器", 此时 "导航器" 就出现在 IDE 左侧的视图中了.</p>
<h2 id="_6">自动构建</h2>
<p>eclipse 的 java 构建器包含了两种构建 java 程序的方法:</p>
<ul>
<li>自动构建</li>
<li>手动构建</li>
</ul>
<p>其中, 自动构建是 java 构建器默认采用的方式, 即当文件修改后保存或者对整个项目进行刷新时, java 构建器就会对其进行编译.</p>
<p>这显然不是一种我希望的方式, 我希望是我点击 "Run" 或者 "Debug" 时 IDE 再去构建, 而不是保存一下文件就构建一下.</p>
<p>关闭方法很简单, "项目" -&gt; "自动构建", 取消 "自动构建" 前面的选项即可.</p>
<h2 id="monokai">设置 Monokai 主题</h2>
<h3 id="_7">配置黑色框架</h3>
<p>Window -> Preferences -> General -> Apperance 选择主题为 Dark, 确认.</p>
<p><img alt="" src="http://i68.tinypic.com/30hnd45.jpg" /></p>
<p>完成之后确认, 颜色大概是这个样子:</p>
<p><img alt="" src="http://i66.tinypic.com/jb74aw.jpg" /></p>
<p>这肯定不是我们想要的样子, 因为这个主题只是配置了框架的颜色，代码编辑区的样式还需要我们继续配置.</p>
<h3 id="_8">配置代码编辑区的样式</h3>
<p>去 帮助 -> 安装新软件，按下 "添加站点进入", 输入 <code>http://eclipse-color-theme.github.io/update</code> 作为网址, 然后点击继续安装.</p>
<p><img alt="" src="http://i64.tinypic.com/2u7c7ro.jpg" /></p>
<p>安装完成之后, Window -> Preferences -> General -> Appereance -> Color Theme 选择其中的样式.</p>
<p><img alt="" src="http://i63.tinypic.com/20ppxrn.jpg" /></p>
<h1 id="eclipse_2">Eclipse 常用功能</h1>
<h2 id="_9">抽取函数</h2>
<p>快捷键 <code>Shift + Alt + M</code> 能将选中的代码块进行方法抽取.</p>
<p>这是属于 <strong>重构</strong> 功能的一部分, 可以点击选中的代码块, 选择 "重构" -> "抽取方法"</p>
<h2 id="hashcode-equasl">重写 hashCode() 和 equasl()</h2>
<p>Eclipse 提供了快速重写 hashCode() 和 equasl() 方法的功能, 在 [编辑] – [源码] 里就能找到.</p>
<h2 id="gettersetter">自动添加 getter/setter</h2>
<p>使用 Eclipse 还可以自动添加 getter/setter 方法, 步骤如下:</p>
<p><img alt="" src="http://i60.tinypic.com/10mlulk.jpg" /></p>
<p><img alt="" src="http://i58.tinypic.com/2up68ev.jpg" /></p>
<h1 id="eclipse_3">Eclipse 常用快捷键</h1>
<ol>
<li>Ctrl + 1 (快速修复)</li>
<li>Ctrl + 鼠标, 跳转到鼠标点击处 api 的源码文件</li>
<li>Ctrl + Shift + T 查找类文件 (包括源码文件)</li>
<li>Ctrl + D (删除当前行)</li>
<li>Ctrl + Alt + ↓ (复制当前行到下一行)</li>
<li>Alt + / 或者说是 Ctrl + 空格 (由于后者与输入法的快捷键冲突, 所以, 我一般都用前者) 作用：快速插入</li>
<li>Alt + Shift + R 重命名非常好用</li>
<li>Ctrl + Q 定位到最后编辑的地方</li>
<li>Ctrl + Shift + O (自动导入包)</li>
<li>Ctrl + / 注释当前行,再按则取消注释</li>
<li>ALT + F11 切换全屏模式</li>
<li>Alt + Shift + Y 切换自动换行模式</li>
</ol>
    </div>

    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="Eclipse 配置 Java 开发环境" data-title="Eclipse 配置 Java 开发环境" data-url="http://wiki.smallcpp.com/工具配置/Eclipse 配置 Java 开发环境.html"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:"smallwiki"};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
    <!-- 多说公共JS代码 end -->


        </div>
        <div id="footer">
              <p>
                Copyright © 2012-2017 <a href="http://www.samllcpp.com/" target="_blank">Martin</a> Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
              </p>
        </div>
    </body>
</html>